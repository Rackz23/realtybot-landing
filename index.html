<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS (for basic styling) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Apex Estate Solutions – Watch Demo</title>
  <style>
    .hidden { display: none; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- Header -->
  <header class="bg-white shadow">
    <div class="container mx-auto flex items-center justify-between py-4 px-6">
      <img src="assets/apex-logo.png" alt="Apex Estate Solutions" class="h-10" />
    </div>
  </header>

  <!-- Hero Section with Top Watch Demo Form -->
  <section class="bg-white">
    <div class="container mx-auto px-6 py-16 text-center">
      <h1 class="text-4xl font-bold mb-4">
        Boost Your Real Estate Leads with Apex Estate Solutions
      </h1>
      <p class="text-lg mb-6">
        Enter your email to watch our quick 2-minute demo and discover how to capture hot leads instantly.
      </p>

      <!-- Top Watch Demo Form -->
      <div id="topEmailSection" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
        <form id="mc-form-top" class="space-y-4">
          <input
            type="email"
            name="EMAIL"
            id="mc-email-top"
            placeholder="Enter your email"
            required
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <button
            type="submit"
            class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition"
          >
            Watch Demo
          </button>
          <p id="formError-top" class="text-red-500 text-sm hidden">
            Subscription failed. Please try again.
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- “Works With Leading Brokerages” Section -->
  <section class="bg-gray-100">
    <div class="container mx-auto px-6 py-12 text-center">
      <h2 class="text-2xl font-semibold mb-4">
        Works Seamlessly with Leading Brokerages
      </h2>
      <p class="text-sm text-gray-600 mb-6">
        Company names and logos are trademarks of their respective owners. Use of these logos does not imply
        affiliation or endorsement by those brokerages.
      </p>
      <div class="flex justify-center space-x-8 mb-8">
        <img
          src="assets/keller-williams.svg"
          alt="Keller Williams Realty"
          class="h-8 opacity-80 hover:opacity-100 transition"
        />
        <img
          src="assets/remax.svg"
          alt="RE/MAX"
          class="h-8 opacity-80 hover:opacity-100 transition"
        />
        <img
          src="assets/coldwell-banker.svg"
          alt="Coldwell Banker"
          class="h-8 opacity-80 hover:opacity-100 transition"
        />
        <img
          src="assets/century-21.svg"
          alt="Century 21 Real Estate"
          class="h-8 opacity-80 hover:opacity-100 transition"
        />
      </div>
      <blockquote class="italic text-gray-700 max-w-2xl mx-auto">
        “Agents at Keller Williams already saw a 35% boost in lead conversions using Apex’s chatbot.”<br />
        <span class="font-semibold">
          – John Smith, Keller Williams Team Lead
        </span>
      </blockquote>
    </div>
  </section>

  <!-- ROI Stats Section -->
  <section class="bg-white">
    <div class="container mx-auto px-6 py-12">
      <h2 class="text-2xl font-semibold text-center mb-8">
        Real Results for Real Agents
      </h2>
      <div class="grid md:grid-cols-3 gap-8 text-center mb-8">
        <div>
          <p class="text-5xl font-bold text-blue-600">41%</p>
          <p class="mt-2">Average Revenue Increase</p>
        </div>
        <div>
          <p class="text-5xl font-bold text-blue-600">30+</p>
          <p class="mt-2">New Leads per Month</p>
        </div>
        <div>
          <p class="text-5xl font-bold text-blue-600">24–48 hrs</p>
          <p class="mt-2">From Demo to Live Deployment</p>
        </div>
      </div>

      <!-- How It Works Bullets -->
      <div class="max-w-2xl mx-auto mb-8">
        <ul class="list-disc list-inside text-left text-gray-700 space-y-2">
          <li>
            <span class="font-semibold">Instant Lead Capture:</span>
            Automatically qualify and route hot prospects without lifting a finger.
          </li>
          <li>
            <span class="font-semibold">Zero Technical Setup:</span>
            Our team handles all integration with Landbot & Airtable—no coding needed.
          </li>
          <li>
            <span class="font-semibold">Live in 48 Hours:</span>
            Dedicated CSM gets you up and running fast, so you start converting immediately.
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Secondary CTA Section with Bottom Watch Demo Form -->
  <section class="bg-blue-600">
    <div class="container mx-auto px-6 py-12 text-center text-white">
      <h2 class="text-3xl font-bold mb-4">Ready to Watch the Demo?</h2>
      <p class="mb-6">
        Enter your email below to see how quickly Apex Estate Solutions can capture hot leads for you.
      </p>

      <!-- Bottom Watch Demo Form -->
      <div id="bottomEmailSection" class="max-w-md mx-auto bg-white rounded-lg shadow-md p-6">
        <form id="mc-form-bottom" class="space-y-4">
          <input
            type="email"
            name="EMAIL"
            id="mc-email-bottom"
            placeholder="Enter your email"
            required
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <button
            type="submit"
            class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition"
          >
            Watch Demo
          </button>
          <p id="formError-bottom" class="text-red-500 text-sm hidden">
            Subscription failed. Please try again.
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 mt-20">
    <div class="container mx-auto px-6 py-6 text-center text-gray-400">
      <img
        src="assets/apex-logo.png"
        alt="Apex Estate Solutions"
        class="h-8 mx-auto mb-4 opacity-50"
      />
      <div class="space-x-4 mb-2">
        <a href="privacy.html" class="hover:text-white">Privacy Policy</a>
        <a href="terms.html" class="hover:text-white">Terms of Service</a>
      </div>
      <p>&copy; 2025 Apex Estate Solutions. All rights reserved.</p>
    </div>
  </footer>

  <!-- JavaScript: AJAX (JSONP) Mailchimp + Immediate Redirect -->
  <script>
    /**
     * Submits the given email to Mailchimp via JSONP, then redirects to demo.html.
     *
     * @param {string} position - "top" or "bottom" to know which form to read.
     */
    function submitAndRedirect(position) {
      // Identify email field + error <p> by position
      const emailInput = document.getElementById(
        position === 'top' ? 'mc-email-top' : 'mc-email-bottom'
      );
      const errorMsg = document.getElementById(
        position === 'top' ? 'formError-top' : 'formError-bottom'
      );
      const email = emailInput.value.trim();

      if (!email) {
        errorMsg.textContent = 'Please enter a valid email.';
        errorMsg.classList.remove('hidden');
        return false;
      }

      // Mailchimp JSONP endpoint (Apex Leads audience)
      const dataCenter = 'us5'; // from "app.us5.list-manage.com"
      const mailchimpU = 'f2ebf5b6d3307d2eb64af59c1';
      const mailchimpId = '091391f2ec';
      const encodedEmail = encodeURIComponent(email);

      // Use JSONP callback parameter explicitly
      const url =
        `https://${dataCenter}.list-manage.com/subscribe/post-json` +
        `?u=${mailchimpU}&id=${mailchimpId}&EMAIL=${encodedEmail}&c=jsonpCallback`;

      // Build a <script> tag for JSONP
      const script = document.createElement('script');
      script.src = url;
      document.body.appendChild(script);

      // JSONP callback function
      window.jsonpCallback = function(data) {
        document.body.removeChild(script);
        delete window.jsonpCallback;

        if (data.result === 'success') {
          // Redirect immediately to demo.html with email in query
          window.location.href = `demo.html?email=${encodedEmail}`;
        } else {
          // Show Mailchimp’s error message
          errorMsg.textContent = data.msg || 'Subscription failed. Please try again.';
          errorMsg.classList.remove('hidden');
        }
      };

      return false; // Prevent normal form submission
    }

    // Hook up both forms
    document.getElementById('mc-form-top').addEventListener('submit', function(e) {
      e.preventDefault();
      submitAndRedirect('top');
    });
    document.getElementById('mc-form-bottom').addEventListener('submit', function(e) {
      e.preventDefault();
      submitAndRedirect('bottom');
    });
  </script>
</body>
</html>
